<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <meta name="theme-color" content="#f3f4f6"/>
  <title>Platform Staff Admin – Login (Dummy)</title>
  <link rel="stylesheet" href="../shared/styles.css"/>
  <link rel="stylesheet" href="../shared/menyra.css"/>
  <link rel="stylesheet" href="../shared/unified.css"/>
</head>
<body class="auth-page">
  <div class="auth-card">
    <div class="auth-title">Platform Staff Admin</div>
    <div class="auth-sub">Getrennte Login-Seite (Mitarbeiter). Später: Firebase Auth + Staff-Zuordnung (assignedStaffId).</div>

    <div class="auth-row">
      <label style="font-weight:900; font-size:12px;">E-Mail / Username</label>
      <input id="email" class="m-input" type="text" placeholder="z.B. staff01@menyra.com"/>
      <label style="font-weight:900; font-size:12px;">Passwort</label>
      <input id="pass" class="m-input" type="password" placeholder="••••••••"/>
      <div class="auth-hint">Dummy-Login: beliebige Daten eingeben.</div>
      <div id="err" class="auth-error">Bitte Login-Daten ausfüllen.</div>
    </div>

    <div class="auth-actions">
      <a href="../index.html" class="m-mini-btn">← Zur Startseite</a>
      <button id="go" class="m-btn" type="button">Login</button>
    </div>
  </div>

  <script type="module">
    const email = document.getElementById("email");
    const pass  = document.getElementById("pass");
    const err   = document.getElementById("err");
    document.getElementById("go").addEventListener("click", ()=>{
      if (!email.value.trim() || !pass.value.trim()){
        err.style.display = "block";
        return;
      }
      err.style.display = "none";
      // Dummy: später echte Auth + Staff-Doc Check
      localStorage.setItem("menyra_dummy_staff_logged_in", "1");
      // Dummy: Staff-ID aus Email ableiten (damit jeder Mitarbeiter „seine“ Leads sieht)
      const em = (email.value || "").trim().toLowerCase();
      const sum = Array.from(em).reduce((a,ch)=>a + ch.charCodeAt(0), 0);
      const ids = ["staff_001","staff_002","staff_003"];
      const staffId = ids[ sum % ids.length ] || "staff_001";
      localStorage.setItem("menyra_dummy_staff_id", staffId);
      location.href = "./staff.html";
    });
  </script>
</body>
</html>
